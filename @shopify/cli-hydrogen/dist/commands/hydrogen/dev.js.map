{"version":3,"file":"dev.js","sources":["../../../src/cli/services/dev.ts","../../../src/cli/commands/hydrogen/dev.ts"],"sourcesContent":["import {createServer} from 'vite'\n\ninterface DevOptions {\n  directory: string\n  force: boolean\n}\n\nasync function dev({directory, force}: DevOptions) {\n  const server = await createServer({\n    root: directory,\n    server: {\n      open: true,\n      force,\n    },\n  })\n\n  await server.listen()\n  server.printUrls()\n}\n\nexport default dev\n","import devService from '../../services/dev'\nimport {path} from '@shopify/cli-kit'\nimport {Command, Flags} from '@oclif/core'\n\nexport default class Dev extends Command {\n  static description = 'Run a Hydrogen storefront locally for development'\n  static flags = {\n    path: Flags.string({\n      hidden: true,\n      description: 'the path to your hydrogen storefront',\n      env: 'SHOPIFY_FLAG_PATH',\n    }),\n    force: Flags.boolean({\n      description: 'force dependency pre-bundling.',\n      env: 'SHOPIFY_FLAG_DEV_FORCE',\n    }),\n  }\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(Dev)\n    const directory = flags.path ? path.resolve(flags.path) : process.cwd()\n\n    await devService({directory, ...flags})\n  }\n}\n"],"names":["devService"],"mappings":";;;;AACA,eAAe,GAAG,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE;AACzC,EAAE,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC;AACpC,IAAI,IAAI,EAAE,SAAS;AACnB,IAAI,MAAM,EAAE;AACZ,MAAM,IAAI,EAAE,IAAI;AAChB,MAAM,KAAK;AACX,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,MAAM,CAAC,MAAM,EAAE,CAAC;AACxB,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC;AACrB;;ACRA,MAAM,IAAI,GAAG,cAAc,OAAO,CAAC;AACnC,EAAE,MAAM,GAAG,GAAG;AACd,IAAI,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC7C,IAAI,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;AAC5E,IAAI,MAAMA,GAAU,CAAC,EAAE,SAAS,EAAE,GAAG,KAAK,EAAE,CAAC,CAAC;AAC9C,GAAG;AACH,CAAC,CAAC;AACC,IAAC,GAAG,GAAG,KAAK;AACf,GAAG,CAAC,WAAW,GAAG,mDAAmD,CAAC;AACtE,GAAG,CAAC,KAAK,GAAG;AACZ,EAAE,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC;AACrB,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,WAAW,EAAE,sCAAsC;AACvD,IAAI,GAAG,EAAE,mBAAmB;AAC5B,GAAG,CAAC;AACJ,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC;AACvB,IAAI,WAAW,EAAE,gCAAgC;AACjD,IAAI,GAAG,EAAE,wBAAwB;AACjC,GAAG,CAAC;AACJ,CAAC;;;;"}